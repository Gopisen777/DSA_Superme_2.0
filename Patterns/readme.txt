This is a basically normal loops pattern in c++.
